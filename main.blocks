<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="EQSTrzF/[}2qmitv1zB,">gameActive</variable><variable id="WJafk6N,w9T:,AS,$f].">gridPos</variable><variable id="#EqvrK8#9@+}nIgLsw.d">GRID_SIZE</variable><variable id="h.}|T24,_=O1/ArUk[C.">changingX</variable><variable id="bjDc,#*ZI`DhCwFgB59:">timer</variable><variable id="S)THMlBE%5evywKw`n.+">MAX_TIME</variable><variable id="hpY4Ooi8{,DL@!p{Pw$u">score</variable></variables><block type="pxt-on-start" id="Ylz2ovK-3OjfXl-afyUf" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="+wfYQ!SL{$WcC_u:x%9s"><field name="VAR" id="bjDc,#*ZI`DhCwFgB59:">timer</field><value name="VALUE"><shadow type="math_number" id="wS~2%wf=P}SXK`6MXxlP"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="Hprt/TbYn.eQB{RT,=LL"><field name="VAR" id="hpY4Ooi8{,DL@!p{Pw$u">score</field><value name="VALUE"><shadow type="math_number" id="r=vAZLM[!pJ6cx.meL/b"><field name="NUM">0</field></shadow></value><next><block type="typescript_statement" id=",@.=:${xGM(c$+s,eE/j" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="type coordinate = { X: number, Y: number };" numlines="1"></mutation><next><block type="typescript_statement" id="iMPKrMX3e(:2x.6UB=4`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const GRID_SIZE: coordinate = { X: 5, Y: 4 };" numlines="1" declaredvars="GRID_SIZE"></mutation><comment pinned="true" h="80" w="160">y does not include timer</comment><next><block type="variables_set" id="Df*~ECE8I+X9/+LT%`/g"><field name="VAR" id="S)THMlBE%5evywKw`n.+">MAX_TIME</field><value name="VALUE"><shadow type="math_number" id="B(P(?IN-P/.ySrsqR9;x"><field name="NUM">10</field></shadow></value><next><block type="typescript_statement" id="[n%^qkfIznJ^}~GZ[mK^" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const gridPos: coordinate = { X: -1, Y: -1 };" numlines="1" declaredvars="gridPos"></mutation><next><block type="typescript_statement" id="VvKUKgVBa*Ck#ZT$I/Om" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const currentFoodPos: coordinate = { X: -1, Y: -1 };" numlines="1" declaredvars="currentFoodPos"></mutation><next><block type="variables_set" id="p@REL@#/pY`W,6ExWhmf"><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=")DFjKrFiD~u,#b8L3Q}K"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="qn;Igz,f*^kdU}s0y$b:"><field name="VAR" id="h.}|T24,_=O1/ArUk[C.">changingX</field><comment pinned="false" h="80" w="160">x = true, y = false</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="g]*N9P)Qn%Tf/WRS9_}H"><field name="BOOL">TRUE</field></block></value><next><block type="typescript_statement" id="hLTn?Z4#6ulsY9%]G7dU" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const spawnFood = () =&gt; {" line1="    currentFoodPos.X = Math.floor(Math.random() * GRID_SIZE.X);" line2="    currentFoodPos.Y = Math.floor(Math.random() * GRID_SIZE.Y);" line3="" line4="    if (currentFoodPos.X === gridPos.X &amp;&amp; currentFoodPos.Y === gridPos.Y)" line5="        spawnFood(); // using recusion on the first assignment!!" line6="    else" line7="        led.plotBrightness(currentFoodPos.X, currentFoodPos.Y, 120);" line8="};" numlines="9" declaredvars="spawnFood"></mutation><next><block type="typescript_statement" id="$az|;AZP$tyGMOIN`EzL" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const updateLED = () =&gt; {" line1="    led.plot(gridPos.X, gridPos.Y);" line2="" line3="    if (gridPos.X === currentFoodPos.X &amp;&amp; gridPos.Y === currentFoodPos.Y) {" line4="        timer = 0;" line5="        score++;" line6="        spawnFood();" line7="    }" line8="};" numlines="9" declaredvars="updateLED"></mutation><next><block type="typescript_statement" id="@XjpinD+COcW7iI6Cag{" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const plotTimer = () =&gt; {" line1="    const percentOn: number = timer / MAX_TIME;" line2="    const ledsOn: number = GRID_SIZE.X * (1 - percentOn);" line3="" line4="    for (let currX: number = GRID_SIZE.X; currX &gt; 0; currX--)" line5="        currX &gt;= ledsOn" line6="            ? led.unplot(currX - 1, GRID_SIZE.Y)" line7="            : led.plot(currX - 1, GRID_SIZE.Y)" line8="};" numlines="9" declaredvars="plotTimer"></mutation><next><block type="typescript_statement" id="YE$3pL(EKJwHV*wc}C7V" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const startGame = () =&gt; {" line1="    score = 0;" line2="    timer = 0;" line3="    gridPos.X = Math.floor(GRID_SIZE.X / 2);" line4="    gridPos.Y = Math.floor(GRID_SIZE.Y / 2);" line5="    gameActive = true;" line6="    updateLED();" line7="    spawnFood();" line8="    plotTimer();" line9="};" numlines="10" declaredvars="startGame"></mutation><next><block type="typescript_statement" id="O9ob2`a2T:!M]Cl+]L^;" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="startGame();" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="(AN0+s[Ar?c}Q2X0**zi" x="822" y="20"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="controls_if" id="Ci@OKmgbB+s$?6V_i4q-"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="LIf.;.b,ih~9,g9P]kiB"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="nVx-$=$8`S9|mZw{fD}p"><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="$,sz38AO7AqnKvuKB5:s" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation></block></statement><next><block type="controls_if" id="j7.M4Tgr~cFsVL6F+U{="><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?Heg[kn)4wrmEK}Fy6?,"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id="u1J^A,yjis-JR+lc~o|V"><value name="LIST"><block type="variables_get" id="|zOX?Nh`8mqq+qb9Jgum"><field name="VAR" id="WJafk6N,w9T:,AS,$f].">gridPos</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="/DZTkXn7}FiR;/uN6~!2" editable="false"><field name="EXPRESSION">changingX ? 'X' : 'Y'</field></block></value></block></value><value name="B"><shadow type="math_number" id="Xt(u$vFRgg~m#zh!wg0o"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_unplot" id="m`o(FH:.!amk5g]mT]o+"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="typescript_expression" id="0mD1LezNdVmDRD!$QzeJ" editable="false"><field name="EXPRESSION">gridPos.X</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="typescript_expression" id="cVWAU.v_H$M]^~n*NV]J" editable="false"><field name="EXPRESSION">gridPos.Y</field></block></value><next><block type="typescript_statement" id="6H|/r2f}yb@k{eiw,KJa" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="gridPos[changingX ? 'X' : 'Y']--;" numlines="1"></mutation></block></next></block></statement><next><block type="typescript_statement" id="h~3YAZv=H/JZmJ$tYB)`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="updateLED();" numlines="1"></mutation></block></next></block></next></block></statement></block><block type="device_button_event" id="S}hrxcoX?4vlz/BPgrJK" x="820" y="527"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="uMLkWS[KRsv,t)A`YqXf"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="26Eh0uvOh$U}KB|M9FED"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="J@~KXEj)L|K^/e=Xqz=n"><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="[eG](V,++ml%F-#~`k$-" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation></block></statement><next><block type="controls_if" id="g%-UdA@@*+vez,[ic!3t"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="`,6U#N,fz(94eu#P3Wnh"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id=";KW3B*.|ef%f]P:Du[Gw"><value name="LIST"><block type="variables_get" id="`1-M1^ZH).6[}HcMZFY4"><field name="VAR" id="WJafk6N,w9T:,AS,$f].">gridPos</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Qk.S:P?`Te7ed}W(h+%y" editable="false"><field name="EXPRESSION">changingX ? 'X' : 'Y'</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="z_j|m4[sj~(+gaEo5N4G"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_index_get" id=":Qs+0#fCvypnL$!z!wSi"><value name="LIST"><block type="variables_get" id="EycHFe(]gdRYyGeQ`g/1"><field name="VAR" id="#EqvrK8#9@+}nIgLsw.d">GRID_SIZE</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="?d!ukv}PZFA}KD5=Fo4=" editable="false"><field name="EXPRESSION">changingX ? 'X' : 'Y'</field></block></value></block></value><value name="B"><shadow type="math_number" id="-)jfkw8*R$|vgopUX^D4"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="device_unplot" id="U]@0G+SDA}Dh;2fTEC[K"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="typescript_expression" id="?Z`I9zhQy)5Q80F4%fYV" editable="false"><field name="EXPRESSION">gridPos.X</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="typescript_expression" id="8-I#GE/?lc[3PS+etRPZ" editable="false"><field name="EXPRESSION">gridPos.Y</field></block></value><next><block type="typescript_statement" id="!-$|9[4;~1j~rwjlW`I4" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="gridPos[changingX ? 'X' : 'Y']++;" numlines="1"></mutation></block></next></block></statement><next><block type="typescript_statement" id="jtB#u_;pO`jl`9{0-[6M" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="updateLED();" numlines="1"></mutation></block></next></block></next></block></statement></block><block type="input_logo_event" id="3.**PE,ih/5x|DD2o5*m" x="822" y="1031"><field name="action">TouchButtonEvent.Pressed</field><statement name="HANDLER"><block type="variables_set" id="E-:*/k`.e$3~o[(orS-J"><field name="VAR" id="h.}|T24,_=O1/ArUk[C.">changingX</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_negate" id="{#~+fw-PL`6)R9$k=4_W"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="+E+h{Y${,EM*m%N+)smi"><field name="VAR" id="h.}|T24,_=O1/ArUk[C.">changingX</field></block></value></block></value></block></statement></block><block type="device_forever" id="XQUbkO+/V}0Ml@sk^SIQ" x="820" y="1236"><statement name="HANDLER"><block type="controls_if" id=";2N8QmtY3qfOjsk-/**2"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="XOLx$Kkr!z,78mbs()g8"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="D:RRS#[y7LAN!+3z+l+d"><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="!KnaV?N}LjpyzO:Ol?@+" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation></block></statement><next><block type="typescript_statement" id="{_)NlqN]`wO5$Tk3!`8@" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="plotTimer();" numlines="1"></mutation></block></next></block></statement></block><block type="every_interval" id="Xh)~od.{]`z2Ff_62:5+" x="826" y="1556"><value name="interval"><shadow type="longTimePicker" id="o~U3.Ub9l-=W)-n-~LJ_"><field name="ms">100</field></shadow></value><statement name="HANDLER"><block type="controls_if" id="0JPOl026ci%-1M!$RqVV"><comment pinned="false" h="80" w="160">uses 100 instead of 1000 for higher precision timer</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="Mvl^v]Ud9}*oSXQQaW3g"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="h6Moa]6:2SLRX}-yr05l"><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="PoBHWtxOuM)zz_+C!g$f" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return;" numlines="1"></mutation></block></statement><next><block type="variables_change" id="K[L4!9oe~{Dwf%db]%;w"><field name="VAR" id="bjDc,#*ZI`DhCwFgB59:">timer</field><value name="VALUE"><shadow type="math_number" id="avXq^Wgn9).8%4HTPEjw"><field name="NUM">0.1</field></shadow></value><next><block type="controls_if" id="(Uru`2egTrX0!+yk$.w)"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="`sy}S}3:gHjmO/4+*fG2"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="^vsux,|Tsky,hiY3[I)q"><field name="VAR" id="bjDc,#*ZI`DhCwFgB59:">timer</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="R)I1sq{ruBJ67;r+cCf4"><field name="VAR" id="S)THMlBE%5evywKw`n.+">MAX_TIME</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="2~RJ`E6JllF%!k7QgKK."><field name="VAR" id="EQSTrzF/[}2qmitv1zB,">gameActive</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=".-%Lchrl-mfyIW*oX^Jp"><field name="BOOL">FALSE</field></block></value><next><block type="typescript_statement" id="S#2AH*)LT4*bahu)C/}`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="basic.showIcon(IconNames.Sad, 1000);" numlines="1"></mutation><next><block type="device_show_number" id="zD7M)rBS-ts+_D$k.=vH"><value name="number"><block type="variables_get" id="e-IjJUne*JiT?W8qp?VN"><field name="VAR" id="hpY4Ooi8{,DL@!p{Pw$u">score</field></block></value></block></next></block></next></block></statement></block></next></block></next></block></statement></block></xml>